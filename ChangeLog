2008-03-26  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_surface.c: added missing HAVE_RUBY_COCOA check.
	Thanks to OBATA Akio!!!
	* README: added OBATA Akio to the thanks list.

2008-03-25  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_context.c (cr_initialize): fixed style.

2008-03-04  Kouhei Sutou  <kou@cozmixng.org>

	* pkg-config.rb: supported building with ruby 1.9.1.

2008-03-01  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_surface.c, src/cairo.def: Cairo::QuartzImageSurface
	will work.

	* src/rb_cairo_surface.c: supported <= 1.5.12.

	* pkg-config.rb: searched default path too.

2008-02-24  Kouhei Sutou  <kou@cozmixng.org>

	* pkg-config.rb: implemented --cflags-only-I.
	* test/: added.

	* src/rb_cairo_surface.c: worked with cairo >= 1.2.0.

	* src/rb_cairo_context.c: fixed declaration position.

	* extconf.rb: RUBY_ -> RB_.

	* pkg-config.rb: implemented pkg-config for cross compiling with Wine.

2008-02-21  Kouhei Sutou  <kou@cozmixng.org>

	* src/cairo.def, src/rb_cairo.h, src/rb_cairo_surface.c:
	Cairo::Win32PrintingSurface will work.

	* src/: supported <= 1.5.10.

2008-01-18  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_surface.c: used rbobj_to_nsobj() and
	ocid_to_rbobj() instead of rbobj_get_ocid() and ocobj_s_new().
	Suggested by kumura wataru. Thanks!!!

	* README: added kumura wataru to Thanks list.

	* src/rb_cairo_surface.c: fixed # of arguments for
	Cairo::Surface#mark_dirty.

	* src/rb_cairo_surface.c: improved argument error message.

	* extconf.rb: detected RubyCocoa.

2008-01-11  Kouhei Sutou  <kou@cozmixng.org>

	* Rakefile: added docs task dependencies.

	* dist.sh: updated update host.

	* src/rb_cairo.c: 1.5.1 -> 1.5.2.

	* src/: Cairo::WIN32Surface -> Cairo::Win32Surface.

	* NEWS: added an entry for 1.5.1.

	* extconf.rb: added Quartz backend check for -framework RubyCocoa.

	* src/rb_cairo.h:
	- RUBY_XXX -> RB_XXX.
	- added extern "C" {}.
	- added rb_cCairo_QuartzSurface.

	* src/cairo.def: rb_cCairo_QuartzSurface.

	* src/rb_cairo_surface.c: supported Quartz backend.

2007-12-29  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_context.c (cr_set_source_surface): fixed wrong type
	conversion.
	Reported by Binzo. Thanks!!!

	* README: updated Binzo entry in Thanks list.

2007-12-28  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_context.c (cr_pop_group): fixed a memory leak bug.
	Reported by Binzo. Thanks!!!

	* README: added Binzo to Thanks list.

2007-06-14  Kouhei Sutou  <kou@cozmixng.org>

	* extconf.rb, src/rb_cairo_surface.c, src/rb_cairo_private.h: used
	rb_errinfo() and RSTRING_LEN() if available for supporting ruby
	1.9. Thanks to Paul van Tilburg!!!

	* README: added Paul van Tilburg to Thanks list.

2007-06-14  Paul van Tilburg  <paulvt@debian.org>

	* extconf.rb: used String#each_line instead of String#each for
	supporting ruby 1.9.

2007-06-03  Kouhei Sutou  <kou@cozmixng.org>

	* samples/agg/aa_test.rb: fixed wrong operation.

2007-05-29  Kouhei Sutou  <kou@cozmixng.org>

	* src/lib/cairo/context/path.rb: fixed typos.
	Thanks to NANKI Haruo!!!
	* README: added an entry for NANKI Haruo.

2007-05-28  Kouhei Sutou  <kou@cozmixng.org>

	* src/lib/cairo/context.rb, src/lib/cairo/context/triangle.rb:
	added a convenience method.

	* samples/agg/aa_test.rb: implemented random shapes test.

2007-05-27  Kouhei Sutou  <kou@cozmixng.org>

	* samples/agg/aa_test.rb: ported from AGG's example.

        * README: added some links for documentation.

	* src/rb_cairo.c: 1.5.0 -> 1.5.1.

	* Rakefile: improved current release NEWS extraction.

	* NEWS: updated.

	* Rakefile: supported document update.

	* src/depend (install-so): used install-so instead of install.

	* src/rb_cairo_font_options.c (Cairo::FontOptions#merge): renamed
	to merge! because the method is destructive.

	* src/lib/cairo.rb (Cairo::FontOptions#merge): added
	non-destructive version.

2007-05-23  Kouhei Sutou  <kou@cozmixng.org>

	* src/lib/cairo.rb (Cairo.normalize_const_name): treated "." as
	ignore character.

	* src/rb_cairo.c (Cairo::BINDINGS_VERSION): 1.6.0 -> 1.5.0.

2007-05-22  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_pattern.c (cr_radial_pattern_get_radial_circles):
	returned [[x0, y0, r0], [x1, y1, r1]] instead of [x0, y0, r0, x1,
	y1, r1].

	* src/rb_cairo_path.c: used super.

	* src/rb_cairo_path.c (Cairo::PathMoveTo, Cairo::PathLineTo,
	Cairo::PathCurveTo, Cairo::PathClosePath): defined each path data
	type as class.

2007-05-21  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_matrix.c (Cairo::Matrix#transform_distance): fixed
	a typo.

	* src/rb_cairo_matrix.c: added accessors.

	* src/rb_cairo_surface.c: supported 64bit platform. Thanks to
	Yoshinao Muramatsu!

2007-05-20  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_surface.c (cr_win32_surface_initialize): fixed a
	typo. Thanks to Yoshinao Muramatsu!

	* src/rb_cairo_font_face.c, src/lib/cairo/constants.rb: followed
	up the previous commit.

	* src/cairo.def, src/rb_cairo_pattern.c, src/rb_cairo_surface.c,
	src/rb_cairo_font_face.c: removed needless methods XXX#type.

	* src/rb_cairo.h, src/rb_cairo_pattern.c, src/rb_cairo_surface.c:
	always detected surface and pattern type dynamically.
	* src/rb_cairo_context.c: followed the above changes.

	* src/rb_cairo.h, src/rb_cairo_surface.c: improved win32 surface
	support. Thanks to Yoshinao Muramatsu!

	* src/rb_cairo.h, src/cairo.def, src/rb_cairo_constants.rb:
	added a module for each enum type.
	* src/lib/cairo/constants.rb: kept the backward compatibility.

2007-05-19  Kouhei Sutou  <kou@cozmixng.org>

	* src/lib/cairo/context/circle.rb (Cairo::Context::Circle#circle):
	renamed parameter name to be more self-descriptive.

	* src/rb_cairo.h, src/cairo.def, src/rb_cairo_surface.c:
	supported win32 surface. Thanks to Yoshinao Muramatsu!!!

	* README: added an entry for Yoshinao Muramatsu.

2007-05-18  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_private.[ch] (rb_cairo__glyphs_to_array,
	RB_CAIRO__GLYPHS_TO_ARRAY): fixed wrong memory allocation.
	* src/rb_cairo_context.c, src/rb_cairo_scaled_font.c: used
	RB_CAIRO__GLYPHS_TO_ARRAY instead of rb_cairo__glyphs_to_array().

	* src/rb_cairo_context.c (cr_set_dash):
	- made offset optional.
	- accepted a number for dash_array.

2007-05-15  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_context.c (cr_get_group_target): added NULL check.

	* src/rb_cairo_context.c (cr_get_font_face): checked status of got
	font face not context.

	* src/rb_cairo_context.c (cr_set_font_face): accepted nil as font
	face.

	* src/rb_cairo_context.c (cr_copy_path, cr_copy_path_flat):
	checked status of copied path not context.

2007-05-10  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_surface.c (cr_surface_create_similar): retrieved
	corresponding Ruby class by cairo_surface_get_type().

2007-05-06  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_path.c, src/lib/cairo.rb, src/lib/cairo/path.rb:
	added path related methods such as move_to, line_to and curve_to
	to Cairo::Path.

	* src/lib/cairo/context/path.rb
	(Cairo::Context::Path#transform_path): multi-thread safe.

2007-05-03  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_path.c
	(Cairo::PathData#move_to?, Cairo::PathData#line_to?,
	Cairo::PathData#curve_to?, Cairo::PathData#close_path?): added.

	* src/rb_cairo_private.h
	(CBOOL2RVAL, RVAL2CBOOL): added.
	(rb_cairo__is_kind_of): added.
	* src/*.c: used rb_cairo__is_kind_of() instead of
	RTEST(rb_obj_is_kind_of(...)).

	* src/rb_cairo_path.c
	(Cairo::Path#size, Cairo::Path#length, Cairo::Path#empty?): added.
	(Cairo::Path#[]): supported negative index.

	* src/rb_cairo_path.c (Cairo::PathData#each): added.

	* src/rb_cairo.h, src/rb_cairo_path.c: added Cairo::Point and
	Cairo::PathData.

	* src/lib/cairo/point.rb (Cairo::Point#distance): moved from
	Cairo::Context::Path::Point.
	* src/lib/cairo/context/path.rb (Cairo::Context::Path::Point):
	removed.
	* src/lib/cairo.rb, src/lib/cairo/context/path.rb: used Cairo::Point.

2007-05-01  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_pattern.c
	(cr_gradient_pattern_get_color_stop_color): cleanup.

	* src/rb_cairo.[ch]: exported Cairo::Color and Cairo::Color::Base.
	* src/lib/cairo.rb: require cairo/color before cairo.so to export
	Cairo::Color to cairo.so.

	* src/rb_cairo_pattern.c: implemented src/lib/cairo/pattern.rb
	methods in C.
	* src/lib/cairo/pattern.rb: removed.
	* src/lib/cairo.rb: removed cairo/pattern.

	* src/rb_cairo_private.[ch] (rb_cairo__const_get,
	Init_cairo_private): added.
	* src/rb_cairo.c: moved Init_* declarations to rb_cairo_private.h.
	* src/rb_cairo_constants.c: supported abbrev notation for constant
	name. We can write just like
	  context.antialias = :none
	instead of
	  context.antialias = Cairo::ANTIALIAS_NONE

	* src/lib/cairo.rb (Cairo.normalize_const_name): added.
	* src/lib/cairo/color.rb: used Cairo.normalize_const_name.

2007-04-30  Kouhei Sutou  <kou@cozmixng.org>

	* src/lib/cairo/context.rb, src/lib/cairo/context/quad.rb: moved
	quadratic Bézier curve support to ...
	* src/rb_cairo_context.c: ... here.

	* src/lib/cairo/context/path.rb
	(Cairo::Context::Path#map_path_onto): fixed a boundary value bug.

2007-04-19  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_context.c (Cairo::Context#stroke,
	Cairo::Context#fill, Cairo::Context#clip): accept 'preserve' option
	to change XXX and XXX_preserve.
	* src/lib/cairo/context.rb (Cairo::Context#stroke_preserve,
	Cairo::Context#fill_preserve, Cairo::Context#clip_preserve): moved
	from src/rb_cairo_context.c.

2007-04-18  Kouhei Sutou  <kou@cozmixng.org>

	* src/lib/cairo/color.rb (Cairo::Color.parse):
	- supported :hsv and :hsva.
	- added robust parse mode.

	* samples/blur.rb: used convenience interface of Cairo::ImageSurface.new.

	* src/lib/cairo/color.rb: supported HSV.

2007-04-16  Kouhei Sutou  <kou@cozmixng.org>

	* src/lib/cairo/color.rb, src/lib/cairo/pattern.rb,
	src/lib/cairo/context/color.rb, src/rb_cairo_pattern.c: improved
	Cairo::Color interface.

	* sample/: used Cairo::Color.

	* src/lib/cairo/color.rb: added validation.

	* misc/update-colors.rb: supported X11 color names.
	* src/lib/cairo/colors.rb: updated.

	* misc/update-colors.rb: added colors.rb generator that extracts
	popular colors from Wikipedia:List_of_colors page.

	* src/lib/cairo/colors.rb: added popular colors generated by
	updated-colors.rb.

	* src/lib/cairo/color.rb: added high-level color class including
	CMYK support.

	* src/rb_cairo_pattern.c, src/lib/cairo.rb,
	src/lib/cairo/context.rb, src/lib/cairo/pattern.rb: supported
	Cairo::Color.

2007-04-15  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_context.c
	(cr_push_group): added error handling.
	(cr_pop_group_to_source): updated source class.

	* src/lib/cairo/context.rb, src/lib/cairo/context/blur.rb: added
	Cairo::Context#pseudo_blur.

	* samples/blur.rb: added a sample script for Cairo::Context#pseudo_blur.

	* src/rb_cairo_context.c
	(cr_pop_group): returned pattern.
	(cr_push_group): returned popped pattern if not pop_to_source.

2007-04-13  Kouhei Sutou  <kou@cozmixng.org>

	* Rakefile: supported 'rake release'.

	* extconf.rb, Rakefile: supported RubyGems.

2007-04-08  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo_surface.c (yield_and_finish):
	- renamed from ensure_finish_proc().
	- don't use ensure.

	* src/rb_cairo_surface.c (ensure_finish_proc): supported
	Cairo::Surface.new with block. If block is exited, a surface is
	finished automatically.

	* sample/*.rb: followed the above change.

2007-03-10  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo.c (Cairo::BINDINGS_VERSION): 1.4.1 -> 1.6.0.

2007-03-10  Kouhei Sutou  <kou@cozmixng.org>

	* NEWS: added 1.4.1 entry.

	* pkg-config.rb: re-added.

	* src/rb_cairo.c (Cairo::BINDINGS_VERSION): 1.6.0 -> 1.4.1 for
	releasing 1.4.1.

2007-03-06  Kouhei Sutou  <kou@cozmixng.org>

	* src/rb_cairo.c (Cairo::BINDINGS_VERSION): 1.4.0 -> 1.6.0.

	* dist.sh: added release script.

	* NEWS: added 1.4.0 entry.

	* src/rb_cairo_context.c (cr_get_scaled_font): checked cairo
	version.

	* setup.rb: removed dependency on setup.rb. used Ruby-GNOME2
	style.

	* extconf.rb: moved from packages/cairo/ext/.

	* packages/cairo/ext: move to ...
	* src/: ... here.

	* packages/cairo/lib: move to ...
	* src/lib: ... here.

	* README, samples/: followed the changes.

2007-03-03  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_context.c: supported cairo 1.3.16.

	* packages/cairo/ext/rb_cairo.h: cleanup.

	* packages/cairo/ext/rb_cairo_scaled_font.c
	(rb_cairo_scaled_font_to_ruby_object): fixed a conversion bug.

	* packages/cairo/ext/rb_cairo_constants.c
	(Cairo::SURFACE_TYPE_OS2): added.

2007-02-25  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/lib/cairo.rb: supported Ruby-GNOME2 GUI Installer
	for Win32.
	Thanks to Masao Mutoh!

2007-02-04  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_surface.c: the first argument of
	Cairo::ImageSurface#initialize, cairo_format_t, is optional.
	* samples/*.rb: followed the change.

2007-01-21  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_context.c: supported cairo 1.3.12.

2007-01-08  Kouhei Sutou  <kou@cozmixng.org>

	* samples/text2.rb (render_layout): used
	Pango::LayoutIter#line_extents and Pango::LayoutIter#line_yrange.

2007-01-02  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_context.c: cached Ruby object for
	source.

2007-01-01  Kouhei Sutou  <kou@cozmixng.org>

	* samples/text2.rb: used Pango::LayoutIter.

2006-12-30  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_pattern.c: Cairo::GradientPattern#[]
	-> Cairo::GradientPattern#get_color_stop.

2006-12-29  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_context.c: keep reference of Ruby
	object for the surface in the context.

	* packages/cairo/ext/rb_cairo_surface.c:
	- use file output functions provided by cairo.
	- hold output target reference in surface.

2006-12-28  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo.c (Cairo::BINDINGS_VERSION):
	1.2.0 -> 1.4.0.

2006-12-22  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_context.c,
	  packages/cairo/ext/rb_cairo_surface.c,
	  packages/cairo/ext/rb_cairo_pattern.c,
	  packages/cairo/ext/rb_cairo_exception.c,
	  packages/cairo/ext/rb_cairo_constants.c,
	  packages/cairo/ext/rb_cairo_pattern.c,
	  packages/cairo/ext/rb_cairo_private.h: supported cairo 1.3.8.

2006-12-19  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_pattern.c:
	- moved Cairo::SurfacePattern#{extend,filter}{,=} to
	Cairo::Pattern. I can't remember why I defined them in
	Cairo::SurfacePattern...
	- defined Cairo::Pattern#__extend__ as alias of Object#extend to
	avoid discarding.

2006-12-15  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/lib/cairo/context/path.rb: ported Pango's
	cairotwisted example as library.
	* samples/text-on-path.rb: ported Pango's cairotwisted example by
	using the library.

2006-11-27  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo.h (CAIRO_CHECK_VERSION): added.

	* packages/cairo/ext/rb_cairo_surface.c: moved #write_to_png to
	Cairo::Surface from Cairo::ImageSurface.

2006-11-09  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/lib/cairo.rb, packages/cairo/lib/cairo/context/,
	packages/cairo/lib/cairo/context.rb: split Cairo::Context
	extensions with each file under packages/cairo/lib/cairo/context/
	directory.

2006-10-25  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_context.c (cr_clip)
	(cr_clip_preserve): supported block.

2006-10-22  NANKI Haruo <nanki@dotswitch.net>

	* packages/cairo/ext/rb_cairo_path.c (cr_path_each): fixed
	a conversion bug.

2006-10-20  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_context.c (cr_select_font_face):
	made slang and weight arguments of Cairo::Context#select_font_face
	optional.

	* samples/text2.rb: added --fade-out option.

2006-10-15  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo.c (Cairo::BINDINGS_VERSION): moved
	from ...
	* packages/cairo/lib/cairo.rb: ... here.

	* packages/cairo/lib/cairo.rb: moved Cairo.__add_one_arg_setter
	call to ...
	* packages/cairo/ext/rb_cairo.c, packages/cairo/ext/rb_cairo.h,
	  packages/cairo/ext/rb_cairo_context.c,
	  packages/cairo/ext/rb_cairo_font_options.c,
	  packages/cairo/ext/rb_cairo_glyph.c,
	  packages/cairo/ext/rb_cairo_matrix.c,
	  packages/cairo/ext/rb_cairo_pattern.c,
	  packages/cairo/ext/rb_cairo_surface.c: ... here.

2006-10-15  Mathieu Blondel <mathieu@mblondel.org>

	* packages/cairo/lib/cairo.rb (Cairo::Context#quad_to,
	Cairo::Context#rel_quad_to): followed the current API:
	get_point -> current_point.

2006-07-11  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_constants.c: added a check whether
	SVG surface is available or not.

2006-07-01  Kouhei Sutou  <kou@cozmixng.org>

	* NEWS: added 1.2.0 entry.

2006-07-01  Kouhei Sutou  <kou@cozmixng.org>

	* README: supported only 1.2.0 or higher.
	* packages/cairo/ext/extconf.rb: ditto.

	* packages/cairo/ext/cairo.def: added
	rb_cairo_svg_version_from_ruby_object().

	* packages/cairo/ext/rb_cairo.c (Init_cairo): initialize constants
	before other modules.

	* packages/cairo/ext/rb_cairo.h:
	  - include all available header files.
	  - supported cairo_svg_version_t.

	* packages/cairo/ext/rb_cairo_constants.c: supported
	cairo_svg_surface_t.

	* packages/cairo/ext/rb_cairo_surface.c: supported missing
	functions in cairo-ps.h, cairo-pdf.h and cairo-svg.h.

	* packages/cairo/lib/cairo.rb
	(Cairo::SVGSurface.versions_as_string): added convenience method.

2006-06-27  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_surface.c: use cairo_surface_type_t
	for Ruby <-> C surface conversion.

	* packages/cairo/ext/rb_cairo_context.c (cr_push_group): changed
	default arguments handling to
	  push_group(content=nil, pop_to_source=true)
	from
	  push_group(content=nil, pop_to_source=false)

	* packages/cairo/ext/rb_cairo.c: fixed Cairo::VERSION.

2006-06-25  Kouhei Sutou  <kou@cozmixng.org>

	* README, packages/cairo/ext/extconf.rb: supported only 1.1.10 or
	higher.

	* packages/cairo/ext/rb_cairo_constants.c: supported
	CAIRO_FORMAT_RGB16_565.

	* packages/cairo/ext/rb_cairo_surface.c:
	  - supported cairo_surface_get_content(),
	    cairo_surface_set_fallback_resolution(),
	    cairo_image_surface_get_data(),
	    cairo_image_surface_get_format() and
	    cairo_image_surface_get_stride().
	  - removed cairo_ps_surface_set_dpi(),
	    cairo_pdf_surface_set_dpi() and cairo_svg_surface_set_dpi()
	    support.

	* samples/png.rb: added Cairo::ImageSurface#data sample.

2006-06-01  Kouhei Sutou  <kou@cozmixng.org>

	* samples/text2.rb: added an example that output PS/PDF/SVG for
	input text.

2006-05-31  Kouhei Sutou  <kou@cozmixng.org>

	* README, packages/cairo/ext/extconf.rb: supported only 1.1.6 or
	higher.

	* packages/cairo/ext/rb_cairo_context.c: supported
	cairo_push_group(), cairo_push_group_with_content(),
	cairo_pop_group(), cairo_pop_group_to_source() and
	cairo_get_group_target().

	* packages/cairo/ext/rb_cairo_exception.c: supported
	CAIRO_STATUS_INVALID_DSC_COMMENT.

	* packages/cairo/ext/rb_cairo_surface.c: supported
	cairo_surface_get_device_offset().

2006-05-11  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/lib/cairo.rb: fixed typo.

2006-05-02  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo.c (Cairo::MINOR_VERSION): fixed
	cairo_version() decoding bug.

	* README, packages/cairo/ext/extconf.rb: supported only 1.1.2 or
	higher.

	* packages/cairo/ext/rb_cairo_surface.c: supported
	cairo_surface_get_type().

	* packages/cairo/ext/rb_cairo_scaled_font.c: supported
	cairo_scaled_font_get_type(), cairo_scaled_font_text_extents(),
	cairo_scaled_font_get_font_face(),
	cairo_scaled_font_get_font_matrix(),
	cairo_scaled_font_get_ctm() and
	cairo_scaled_Font_get_font_options().

	* packages/cairo/ext/rb_cairo_pattern.c: supported
	cairo_pattern_get_type().

	* packages/cairo/ext/rb_cairo_font_face.c: supported
	cairo_font_face_get_type().

	* packages/cairo/ext/rb_cairo_context.c: supported
	cairo_new_sub_path() and cr_set_scaled_font().

	* packages/cairo/ext/rb_cairo_constants.c: supported new enums.
	- cairo_font_type_t
	- cairo_surface_type_t
	- cairo_pattern_type_t
	- CAIRO_EXTEND_PAD

2006-05-01  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_surface.c: supported
	Cairo::SVGSurface.

	* samples/scalable.rb:
	- created by merging ps.rb, ps2.rb, pdf.rb and pdf2.rb.
	- added Cairo::SVGSurface example.
	* samples/ps.rb, samples/ps2.rb, samples/pdf.rb, samples/pdf2.rb:
	merged into scalable.rb.

	* samples/pac.rb, samples/pac2.rb: added Cairo::SVGSurface
	example.

2005-12-18  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/lib/cairo.rb (Cairo::Context#rounded_rectangle): 
	processed h and height same as the one of
	Cairo::Context#rectangle.

	* samples/pac1.rb, samples/pac2.rb: followed the above change.

2005-10-18  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_surface.c: Not compile cr_closure
	functions if PS/PDF surface isn't supported.

	* samples/pac.rb: Use Cairo::Context#fill_preserve.
	* samples/pac2.rb: ditto.

2005-10-17  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/lib/cairo.rb
	(Cairo::Context#rounded_rectangle, Cairo::Context#circle):
	Added convenience methods.

	* samples/pac.rb: Port PDF::Writer sample.
	* samples/pac2.rb: ditto.

	* packages/cairo/ext/rb_cairo_context.c: Fixed wrong number of
	argument of Cairo::Context#identity_matrix.

2005-10-16  Ilmari Heikkinen  <kig@misfiring.net>

	* packages/cairo/ext/rb_cairo_context.c (cr_get_font_options):
	Fixed segmentation fault. Use cairo_font_options_create().
	* packages/cairo/ext/rb_cairo_surface.c
	(cr_surface_get_font_options): ditto.

	* packages/cairo/ext/rb_cairo_constants.c: Fixed
	typo. ANTIALIAS_NONO -> ANTIALIAS_NONE.

2005-10-16  Kouhei Sutou  <kou@cozmixng.org>

	* NEWS: Added release 1.0.0.

2005-10-15  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_context.c: Use StringValuePtr
	instead of STR2CSTR.

	* packages/cairo/ext/rb_cairo_surface.c: Supported PS/PDF surface.
	* samples/ps.rb, samples/ps2.rb: Added PS surface sample.
	* samples/pdf.rb, samples/pdf2.rb: Added PDF surface sample.

2005-10-13  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_surface.c: Fixed a SEGV bug caused
	by Ruby's GC.
	(cr_image_surface_create_from_png_generic): Fixed a memory leak
	bug.

	* packages/cairo/ext/rb_cairo_pattern.c: Added
	Cairo::GradientPattern#add_color_stop_rgb and
	Cairo::GradientPattern#add_color_stop for convenience.

2005-10-12  Kouhei Sutou  <kou@cozmixng.org>

	* samples/png.rb: Use Cairo::Context#set_source_rgb instead of
	Cairo::Context#set_source.

	* packages/cairo/ext/rb_cairo_context.c (cr_set_source_rgb):
	Re-implemented for backward compatibility.

	* samples/png.rb: Use Cairo::Context#set_source_rgba instead of
	Cairo::Context#set_source.

	* packages/cairo/ext/rb_cairo_surface.c
	(cr_image_surface_create_from_png_generic): Set class of the
	surface.

	* packages/cairo/ext/rb_cairo_context.c (cr_set_source_generic):
	Fixed wrong variable name.

2005-10-11  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_context.c: Provided
	Cairo::Context#set_soruce_rgba.
	(cr_arc_negative, cr_arc): cx -> xc and cy -> yc.

	* packages/cairo/ext: Extracted Ruby object -> enum type codes.

	* packages/cairo/ext/rb_cairo_pattern.c
	(cr_gradient_pattern_add_color_stop_rgba): Renamed from
	cr_gradient_pattern_add_color_stop.

2005-10-10  Øyvind Kolås  <pippin@gimp.org>

	* packages/cairo/ext/rb_cairo_pattern.c:
	(cr_gradient_pattern_add_color_stop): Make the code work when not
	passing the color as an array as well.

2005-10-11  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo.c: Added cairo version info.

	* packages/cairo/lib/cairo.rb: Added bindings version info as
	  1.0.0-beta.

	* samples/canvas: Removed.
	
	* packages/cairo/ext/: Added CVS keywords.

	* packages/cairo/ext/rb_cairo_context.c: Renamed 'xform'.
	* packages/cairo/ext/rb_cairo_font_face.c: ditto.
	* packages/cairo/ext/rb_cairo_glyph.c: ditto.
	* packages/cairo/ext/rb_cairo_matrix.c: ditto.

	* packages/cairo/ext/rb_cairo_private.c: Changed prefix to
	  'rb_cairo__' from 'cr__'.
	* packages/cairo/ext/rb_cairo_matrix.c: ditto.
	* packages/cairo/ext/rb_cairo_context.c: ditto.
	* packages/cairo/ext/rb_cairo_private.h: ditto.

	* packages/cairo/ext/rb_cairo_glyph.c:
	  - Use Cairo::Glyph#initialize instead of Cairo::Glyph.new.
	  - Added Cairo::Glyph#to_s.

	* packages/cairo/ext/rb_cairo_font_extents.c:
	  - Removed Cairo::FontExtents.new.
	  - Added Cairo::FontExtents#to_s.

	* packages/cairo/ext/rb_cairo_text_extents.c:
	  - Removed Cairo::TextExtents.new.
	  - Added Cairo::TextExtents#to_s.

2005-10-10  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_constants.c: Supported all constants.

	* packages/cairo/ext/rb_cairo_matrix.c: Added a utility method.

	* packages/cairo/lib/cairo.rb: Remove deprecated API.
	
	* packages/cairo/ext/rb_cairo_matrix.c: Tidied cairo_matrix_t.
	* packages/cairo/lib/cairo.rb: ditto.

2005-10-09  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_context.c,
	  packages/cairo/ext/rb_cairo_matrix.c: Moved duplicated
	  functions to ...
	* packages/cairo/ext/rb_cairo_private.h: ... here.
	* packages/cairo/ext/rb_cairo_private.c: ditto.

	* packages/cairo/ext/rb_cairo_scaled_font.c: Implemented
	  cairo_scaled_font_t.
	* packages/cairo/ext/cairo.def: ditto.
	* packages/cairo/ext/rb_cairo.c: ditto.
	* packages/cairo/ext/rb_cairo.h: ditto.

	* packages/cairo/lib/cairo.rb: Removed deprecated wrapper API.

	* packages/cairo/ext/rb_cairo_surface.c:
	  - Implemented File I/O API by Ruby.
	  - SurfaceXXX -> XXXSurface.

	* packages/cairo/ext/rb_cairo_exception.c: Tidied exceptions.
	* packages/cairo/ext/cairo.def: ditto.
	* packages/cairo/ext/rb_cairo.h: ditto.
	* packages/cairo/ext/rb_cairo_context.c: ditto.
	* packages/cairo/ext/rb_cairo_font_options.c: ditto.
	* packages/cairo/ext/rb_cairo_matrix.c: ditto.
	* packages/cairo/ext/rb_cairo_pattern.c: ditto.
	* packages/cairo/ext/rb_cairo_surface.c: ditto.

	* packages/cairo/ext/rb_cairo_pattern.c: Implemented
	  cairo_pattern_t.
	* packages/cairo/ext/rb_cairo.c: ditto.
	* packages/cairo/ext/rb_cairo.h: ditto.
	* packages/cairo/ext/cairo.def: ditto.
	* packages/cairo/lib/cairo.rb: ditto.
	* packages/cairo/ext/rb_cairo_context.c: Followed the avobe changes.

	* packages/cairo/ext/rb_cairo_surface.c
	  (cr_surface_write_to_png): Don't use rb_need_block() for ruby <=
	  1.8.2.

2005-10-08  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo_context.c: Supported all API for
	  cairo_t.
	* samples/png.rb: Followed the avobe changes.

	* packages/cairo/ext/rb_cairo_path.c: Implemented cairo_path_t.
	* packages/cairo/ext/rb_cairo.c: ditto.
	* packages/cairo/ext/rb_cairo.h: ditto.
	* packages/cairo/ext/cairo.def: ditto.

	* packages/cairo/ext/rb_cairo_font_options.c: Fixed a typo.

	* setup.rb: Added workaround for an error on Win32 platform.
	  Patch from Masao Mutoh <mutoh@highway.ne.jp>. Thanks!

	* packages/cairo/ext/rb_cairo_font_options.c: Implemented
	  cairo_font_options_t.
	* packages/cairo/ext/rb_cairo_surface.c: ditto.
	* packages/cairo/ext/rb_cairo.c: ditto.
	* packages/cairo/ext/rb_cairo.h: ditto.
	* packages/cairo/ext/cairo.def: ditto.
	* packages/cairo/lib/cairo.rb: ditto.

2005-10-07  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext: Added c-mode style configuration header for
	  Emacs.

	* samples/png.rb: Use Cairo::SurfaceImage instead of
	  Cairo::Surface.

	* packages/cairo/ext/rb_cairo_surface.c: Implemented
	  cairo_surface_t.

	* packages/cairo/ext/rb_cairo_exception.c: Sorted "case" in the
	  order of declaration cairo_status_t in cairo.h.

2005-10-06  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/extconf.rb: Fixed Win32 platform problem.
	  Patch from Masao Mutoh <mutoh@highway.ne.jp>. Thanks!

2005-10-04  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/rb_cairo.h: Support Win32 platform.

	* packages/cairo/ext/extconf.rb: ditto.

	* packages/cairo/ext/cairo.def: Added.

	* packages/cairo/ext/pkg-config.rb: Added. This file is from
	  Ruby/GLib.

2005-10-01  Kouhei Sutou  <kou@cozmixng.org>

	* setup.rb: update to 3.4.0.

2005-09-30  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/lib/cairo.rb: change indentation style to
	  style of ruby-mode.el.

	* README: update dependencies.

	* packages/gtkcairo, packages/svgcairo: remove.

	* setup.rb: update to 3.3.1.

2005-09-29  Kouhei Sutou  <kou@cozmixng.org>

	* packages/cairo/ext/extconf.rb: check modversion.
	* packages/svgcairo/ext/extconf.rb: ditto.

2005-09-13  Øyvind Kolås  <pippin@gimp.org>

	Patch from Kouhei Sutou

	* packages/cairo/ext:
	  - add (or rename) internal (static) functions to 'cr_XXX' prefix.
	  - XXX_v -> rb_XXX
	  - get_XXX -> XXX
	  - remove needless RUBY_METHOD_FUNC cast.
	  - call rb_obj_call_init() in new method.

	* packages/cairo/ext/rb_cairo_font_face.c
	  (rb_cairo_font_extents, rb_cairo_font_glyph_extents):
	  move to ...

	* packages/cairo/ext/rb_cairo_context.c:
	  - ... here.
	  - add some status checks.

	* packages/cairo/ext/rb_cairo_context.c,
	  packages/cairo/ext/rb_cairo.h:
	  - rb_cairo_{from,to}_ruby_object ->
	    rb_cairo_context_{from,to}_ruby_object

	* packages/cairo/lib/cairo.rb: auto-generate XXX=.
	  (Cairo::Context#save: move to the C-side.

2005-09-10  Øyvind Kolås  <pippin@gimp.org>
	
	* AUTHORS: added Kouhei Sutou

2005-09-10  Øyvind Kolås  <pippin@gimp.org>

	Patch from Kouhei Sutou <kou@cozmixng.org>.

	Hiding free functions, cleanup of ruby <-> C conversion functions.
	
  	- rename ruby <-> C convert functions name.
	ruby -> C: rb_cairo_XXX_from_ruby_object().
    	C -> ruby: rb_cairo_XXX_to_ruby_object().
	
	- provide ruby <-> C convert macros.
	   ruby -> C: RVAL2CRXXX()
	   C -> ruby: CRXXX2RVAL()
	
  	- _SELF use RVAL2CRXXX()
  	- rb_cairo_XXX_from_ruby_object() uses rb_obj_is_kind_of()
	  instead of 'CLASS_OF() !=3D rb_cCairo_XXX'.
  	- add 'static' or remove free functions.

2005-09-09  Øyvind Kolås  <pippin@freedesktop.org>

	Missed a couple of files when applying the previous patch.

	* packages/cairo/ext/rb_cairo_font_extents.h: removed.
	* packages/cairo/ext/post-install.rb: added.

2005-09-09  Øyvind Kolås  <pippin@freedesktop.org>

	Header cleanup patch from Kouhei Sutou <kou@cozmixng.org>.

	* packages/cairo/ext/rb_cairo_*.h: removed. The
   	  contents of packages/cairo/ext/rb_cairo_*.h are moved to
   	  packages/cairo/ext/rb_cairo.h.
	* packages/cairo/ext/rb_cairo_*.c: include rb_cairo.h instead of
          rb_cairo_*.h, Init_*() declarations are moved ...
   	* packages/cairo/ext/rb_cairo.c: ... here.

2005-09-08  Øyvind Kolås  <pippin@freedesktop.org>

	Integrated patch from Kouhei Sutou <kou@cozmixng.org>.

	* packages/cairo/ext/rb_cairo_exception.h:
	* packages/cairo/ext/rb_cairo_exception.c:
		(rb_cairo_raise_exception),
		(Init_cairo_exception): Added new error types, made exception
		retrieve the status string itself.
	* packages/cairo/ext/rb_cairo_context.c:
		(check_context_status): Simplified exception raising.
	* packages/cairo/ext/rb_cairo_matrix.c:
		(rb_cairo_matrix_copy): create a new matrix when copying.
		(rb_cairo_matrix_invert): do status checking.
		(Init_cairo_matrix): register invert! method.

2005-06-23  Øyvind Kolås  <pippin@freedesktop.org>

	API shakeup, watch out for falling parts.

	* packages/cairo/ext/*.c: large changes, and regressions.
	* packages/cairo/ext/rb_cairo_font.[ch]: removed
	* packages/cairo/ext/rb_cairo_font_face.[ch]: added
	* packages/cairo/lib/cairo.rb:
	* samples/*.rb: removed
	* samples/png.rb: initial test case for new API.
	* README: fixed spelling error.
	* AUTHORS: added Ilmari Heikkinen.

2005-03-21  Øyvind Kolås  <pippin@freedesktop.org>

	* packages/cairo/ext/rb_cairo_context.c: Rename methods to eliminate
	abbreviations (following changes in cairo.h):
        cairo_concat_matrix             -> cairo_transform
        cairo_transform_point           -> cairo_user_to_device
        cairo_transform_distance        -> cairo_user_to_device_distance
        cairo_inverse_transform_point   -> cairo_device_to_user
        cairo_inverse_transform_distance-> cairo_device_to_user_distance
        cairo_init_clip                 -> cairo_reset_clip


2005-03-20  Øyvind Kolås  <pippin@freedesktop.org>

	* README: reworked, borrowing ideas and style from pycairo README.
	* COPYING,
	* GPL,
	* AUTHORS: added.


2005-03-17  Øyvind Kolås  <pippin@freedesktop.org>

	* packages/cairo/ext/rb_cairo_exception.c: added WriteError and
	SurfaceFinishedError.
	* packages/cairo/ext/rb_cairo_surface.c:
	added finish method.
	fixed typo in define, that mistook define for PDF as PS.
	* packages/cairo/ext/rb_cairo_*:
	search and replace to use rb_cairo_exception_raise instead
	of cairo_raise_exception
	* samples/pdf.rb: removed
	* samples/pdf-a4_grid.rb: added


2005-03-15  Øyvind Kolås  <pippin@freedesktop.org>

	* packages/cairo/ext/rb_cairo_context.c:
	* packages/cairo/lib/cairo.rb: Following API shakeup in cairo,
	s/cairo_current_foo/cairo_get_foo/ .


2005-02-15  Øyvind Kolås  <pippin@freedesktop.org>

	* packages/cairo/ext/rb_cairo.c: added initialization of pattern.
	* packages/cairo/ext/rb_cairo_constants.c: added filter and extend
	enums.
	* packages/cairo/ext/rb_cairo_context.c: added pattern setting and
	getting, rewrote current_matrix to use rb_cairo_matrix_wrap.
	* packages/cairo/ext/rb_cairo_matrix.c: convenience function to
	wrap a cairo_matrix_t.
	* packages/cairo/ext/rb_cairo_pattern.c: added implementation for
	surface and linear/radial gradients.
	* packages/cairo/lib/cairo.rb: syntactic sugar for initializing
	gradient patterns with blocks.
	* samples/gradients.rb: sample showing the syntax of gradients.


2005-02-10  Øyvind Kolås  <pippin@freedesktop.org>

	* packages/cairo/lib/cairo.rb: added optional 'handler' parameters to
	Context::current_path and Context#current_path_flat.
	patch from <mental@rydia.net>

2005-02-10  Øyvind Kolås  <pippin@freedesktop.org>

	* packages/cairo/lib/cairo.rb: made save_internal private,
	patch from <mental@rydia.net>

2005-02-10  Øyvind Kolås  <pippin@freedesktop.org>

	* packages/svgcairo/ext/rb_svgcairo.c: added error handling.
	usage of a port for passing FILE stream to the parser.
	* packages/svgcairo/ext/extconf.rb: added -W to the compile flags.

2005-02-10  Øyvind Kolås  <pippin@freedesktop.org>

	* packages/svgcairo/ext: added initial binding for libsvg-cairo,
	without error checking, and good integration with the ruby file
	handling.

005-02-09  Øyvind Kolås  <pippin@freedesktop.org>

	* packages/cairo/lib/cairo.rb: Fixed naming of Transform class to be
	Matrix.

2005-02-09  Øyvind Kolås  <pippin@freedesktop.org>

	* packages/cairo/lib/cairo.rb: Added the ability for save to
	take a block.

2005-02-07  Øyvind Kolås  <pippin@freedesktop.org>

	* splitted into seperate files for classes
	* made use of _SELF macro for more direct access
	* unified under a rb_ namespace
	* added font handling and extents

2005-02-06  Øyvind Kolås  <pippin@freedesktop.org>

	* imported mental guys ruby binding to my local tree
	* added ps and pdf surfaces
	* reindented according to GNU coding style
	* made stroke, fill, in_stroke, in_fill, fill_extents and
	  stroke_extents accept blocks that define the path, in spirit
	  of the previous binding.
	* added show_text, text_path, select_font, scale_font and
	  transform_font
	* made to work with gtkcairo


2005-02-06  Øyvind Kolås  <pippin@freedesktop.org>

	* packages/cairo/cairo.c: add new headers
	* packages/cairo/gen-Cairo.c: remove unneeded hack to force
	unit size on newly set font.

2004-11-19  Øyvind Kolås  <pippin@freedesktop.org>

	* packages/canvas/lib/canvas.rb Labal.width: access extents by atom
	instead of string.

2004-11-19  Øyvind Kolås  <pipipn@freedesktop.org>

	* packages/cairo/ext/*.[ch]: reformatted code.
	* packages/gtkcairo/ext/*.[ch]: reformatted code.
